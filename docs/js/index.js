const options=["specials","lowercase","uppercase","numbers"],availableChars={specials:"!@#$%^&*()_+{}:\"<>?|[];',./`~",lowercase:"abcdefghijklmnopqrstuvwxyz",uppercase:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",numbers:"0123456789"};function shuffle(a){const b=a.split("");let c,d,e=b.length;if(e)for(;--e;)d=Math.floor(Math.random()*(e+1)),c=b[d],b[d]=b[e],b[e]=c;return b.join("")}function randPickOne(a){const b=a.charAt(Math.floor(Math.random()*a.length));return b}function randPick(a,b,c,d){const e=d===void 0?c:c+Math.floor(Math.random()*(d-c+1));let f="",g=0;for(;g<e;){const c=randPickOne(b);0>a.indexOf(c)&&0>f.indexOf(c)&&(f+=c,g++)}return f}function generatePassword(a,b){let c="",d="",e=3;9>a?e=3>b.length?2:1:13>a&&(e=3>b.length?3:2),b.forEach(a=>{d+=availableChars[a],c+=randPick(c,availableChars[a],1,e)});const f=a-c.length;for(let e=0;e<f;e++)c+=randPickOne(d);return shuffle(c)}function showError(a){const b=$(".spg-error");b.text(a),b.fadeIn(150)}function hideError(){$(".spg-error").fadeOut(0)}$("#spg-btn-gen").click(()=>{const a=$("#spg-pwd-len").val(),b=options.filter(a=>$(`#spg-cb-${a}`).prop("checked"));return 0==b.length?showError("Require at least one option selected"):void(hideError(),$("#spg-inp-pwd").val(generatePassword(a,b)))}),$("#spg-inp-pwd").click(function(){this.select()}),$("#spg-btn-copy").click(()=>{$("#spg-inp-pwd").select(),document.execCommand("copy"),$(".spg-copied").fadeIn(150),setTimeout(()=>{$(".spg-copied").fadeOut(100)},1e3)}),$("a[href]").click(function(){chrome.tabs.create({active:!0,url:this.href})});